---
title: "TME-Pisaura"
output: html_document
editor_options:
  chunk_output_type: console
---


## Packages

```{r packages}
require(ggplot2)
require(ggpubr)
require(tidyverse)
require(data.table)
require(rstatix)
require(ggpubr)
require(lme4)
require(lmerTest)
```

## Harvest data

```{r data-harvest}
#read table
TME = fread("TME_Pisaura_data.csv", header = TRUE, encoding = 'Latin-1', stringsAsFactors = FALSE)
Etho = fread()
```

## Prepare data

```{r data-preparation}
TMEnoNA = na.omit(TME)
names(TME)[names(TME) == "t_on_start side"] <- "t_on_start_side"
names(TMEnoNA)[names(TMEnoNA) == "t_on_start side"] <- "t_on_start_side"
gsub('c', 'C', TME$side_start)
gsub('c', 'C', TMEnoNA$side_start)

TMEnoNA = TMEnoNA %>%
  convert_as_factor(family, id, Camera, round, side_start, side_opp., day_test)
```

## Manipulate data

```{r data-manipulation}
#TODO H1: Activity in Personality test is different to activity in Site-Selection test


#TODO H2: The time spend on side with cue is dependent on the age of a spider (cricket boldness ontogeny Niemel√§ 2011).
#         Compare to boldness as function of age. 
#         Data must be filtered for spiders that showed some activity
#         when spiders have personality other factors like age should not play a significant role in behaviour control
ggplot(data=TMEnoNA, aes(x=day_test, y=t_on_C))+
  geom_jitter(colour='grey70',position=position_jitter(0.03))+
  geom_line(aes(group=id),colour='grey70')+
  geom_boxplot(outlier.colour='black', outlier.shape=16, alpha=0.5) +
  stat_compare_means(comparisons=list(c(1,2),c(2,3),c(1,3)),method='t.test', label='p.signif') +
  theme_bw()

ggplot(data=TMEnoNA, aes(x=activity, y=t_on_start_side, group=id,color=id))+
  geom_jitter(position=position_jitter(0.03))+
  geom_line()+
  theme_bw()

#TODO H: Boldness and activity relate.

#TODO H: An individual shows similar activity and boldness scores over various observations.
#         This indicates personality if other factors like age etc play no significant role.
#         DONT KNOW ANY OTHER STATISTICAL TEST FOR PERSONALITY

#TODO H: Families share similar boldness and activity scores.
ggboxplot(TMEnoNA$boldness)
ggplot(data=TMEnoNA, aes(x=day_test, y=boldness))+
  geom_point(aes(color=family)) +
  geom_line(aes(group=id,color=family))
```